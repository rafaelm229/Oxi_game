<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <title>Slots | Oxxi Games</title>
  <link rel="stylesheet" href="css/style.css">
</head>
<body class="slots">
  <div class="container">
    <h1>CaÃ§a-NÃ­quel Oxxi</h1>
    <div class="slots-area">
      <div class="slot">â“</div>
      <div class="slot">â“</div>
      <div class="slot">â“</div>
      <div class="slot">â“</div>
      <div class="slot">â“</div>
      <div class="slot">â“</div>
      <div class="slot">â“</div>
      <div class="slot">â“</div>
      <div class="slot">â“</div>
    </div>
    <button id="girar">Girar</button>
  </div>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const girarBtn = document.getElementById('girar');
      const slots = document.querySelectorAll('.slot');
      const icons = ["ğŸ’", "ğŸ‹", "ğŸ‡", "â­", "ğŸ’", "ğŸŠ", "ğŸ””", " BAR", " 7ï¸âƒ£"];

      const spin = () => {
        // Desabilita o botÃ£o para evitar mÃºltiplos cliques
        girarBtn.disabled = true;

        // Inicia a animaÃ§Ã£o de rolagem para cada slot
        let spinningIntervals = [];
        slots.forEach(slot => {
          slot.classList.remove('landed'); // Remove a classe da animaÃ§Ã£o de "pouso" anterior
          const intervalId = setInterval(() => {
            const randomIcon = icons[Math.floor(Math.random() * icons.length)];
            slot.textContent = randomIcon;
          }, 100); // Muda o Ã­cone a cada 100ms
          spinningIntervals.push(intervalId);
        });

        // Para cada slot com um atraso escalonado
        slots.forEach((slot, index) => {
          setTimeout(() => {
            // Para a animaÃ§Ã£o de rolagem
            clearInterval(spinningIntervals[index]);
            
            // Define o Ã­cone final
            const finalIcon = icons[Math.floor(Math.random() * icons.length)];
            slot.textContent = finalIcon;
            
            // Adiciona a animaÃ§Ã£o de "pouso"
            slot.classList.add('landed');

          }, 1000 + index * 200); // Atraso base de 1s + 200ms por slot
        });

        // Reabilita o botÃ£o apÃ³s a Ãºltima animaÃ§Ã£o terminar
        const totalAnimationTime = 1000 + (slots.length - 1) * 200;
        setTimeout(() => {
          girarBtn.disabled = false;
        }, totalAnimationTime + 300); // Adiciona um pequeno buffer
      };

      girarBtn.addEventListener('click', spin);
    });
  </script>
</body>
</html>